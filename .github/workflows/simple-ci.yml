# .github/workflows/simple-ci.yml

# name: CI Pipeline

# on:
#   push:
#     branches:
#       - main
#     paths-ignore:
#       - 'README.md'     # Ignore changes to README.md. It won't trigger the workflow but will still be pushed to the repo.

# jobs:
#   build:
#     name: Build Job
#     runs-on: [self-hosted, repo-build]  #this runs on any of the labels as defined
#     steps:
#       - name: Echo Build Message
#         run: echo "Running the build process..."

#   deploy:
#     name: Deploy Job
#     runs-on: s9
#     needs: build
#     steps:
#       - name: Echo Deploy Message
#         run: echo "Deploying the application..."



name:  Series Pipeline            #Uses one runner as defined on "runs-on"

on:
  push:
    branches:
      - main


jobs:
  setup:
    name: Setup Job
    runs-on: repo-deploy
    steps:
      - name: Setup environment
        run: |
          echo "ğŸ”§ Setting up environment..."
          sleep 30

  build:
    name: Build Job
    runs-on: repo-deploy
    needs: setup
    steps:
      - name: Build application
        run: |
          echo "ğŸ—ï¸ Building the application..."
          sleep 30

  test:
    name: Test Job
    runs-on: repo-deploy
    needs: build
    steps:
      - name: Run tests
        run: |
          echo "ğŸ§ª Running tests..."
          sleep 30

  scan:
    name: Scan Job
    runs-on: repo-deploy
    needs: test
    steps:
      - name: Security scan
        run: |
          echo "ğŸ” Performing security scan..."
          sleep 30

  deploy:
    name: Deploy Job
    runs-on: repo-deploy
    needs: scan
    steps:
      - name: Deploy application
        run: |
          echo "ğŸš€ Deploying application..."
          sleep 30